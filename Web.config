<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <configSections>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
  </configSections>
  <nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <targets>
      <target name="admin_action" xsi:type="Database" keepConnection="true" useTransactions="true" dbProvider="sqlserver" connectionString="Data Source=165.243.101.173,4433;Initial Catalog=LSIS_EV_2022;Persist Security Info=True;User ID=Lsis_web;Password=lsis#web2016">
        <commandText>
          INSERT INTO log_admin_action( la_am_code , la_type , la_url , la_a_id , la_comment) VALUES (@la_am_code , @la_type , @la_url , @la_a_id , @la_comment )
        </commandText>
        <parameter name="@la_am_code" layout="${event-context:item=la_am_code}" />
        <parameter name="@la_type" layout="${event-context:item=la_type}" />
        <parameter name="@la_url" layout="${event-context:item=la_url}" />
        <parameter name="@la_a_id" layout="${event-context:item=la_a_id}" />
        <parameter name="@la_comment" layout="${event-context:item=la_comment}" />
      </target>
      <target name="site_error" xsi:type="Database" keepConnection="true" useTransactions="true" dbProvider="sqlserver" connectionString="Data Source=165.243.101.173,4433;Initial Catalog=LSIS_EV_2022;Persist Security Info=True;User ID=Lsis_web;Password=lsis#web2016">
        <commandText>
          INSERT INTO log_site_error( ls_code , ls_url , ls_msg) VALUES (@ls_code , @ls_url , @ls_msg )
        </commandText>
        <parameter name="@ls_code" layout="${event-context:item=ls_code}" />
        <parameter name="@ls_url" layout="${event-context:item=ls_url}" />
        <parameter name="@ls_msg" layout="${event-context:item=ls_msg}" />
      </target>
    </targets>
    <rules>
      <logger name="admin.action" levels="Info" writeTo="admin_action" final="true" />
      <logger name="site.error" levels="Error" writeTo="site_error" final="true" />
    </rules>
  </nlog>
  <connectionStrings>
    <clear />
    <add name="connectionString" connectionString="Data Source=165.243.101.173,4433;Initial Catalog=LSIS_EV_2022;Persist Security Info=True;User ID=Lsis_web;Password=lsis#web2016" providerName="System.Data.SqlClient" />
    <add name="user_connectionString" connectionString="Data Source=165.243.101.173,4433;Initial Catalog=LSIS_EV_2022;Persist Security Info=True;User ID=Lsis_web;Password=lsis#web2016" providerName="System.Data.SqlClient" />    
  </connectionStrings>
  <appSettings>
    <add key="limit_image_size" value="10" />   
    <add key="image_board" value="/{0}/upload/images/board/" />            
    <add key="file_board" value="/{0}/dl/board/" />            
    <add key="file_qna" value="/{0}/dl/qna/" />        
    <add key="excel_connection" value="Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0}; Extended Properties='Excel 12.0;HDR=YES;';" />
    <add key="new_days" value="15" />
    
    <!--
  stage : dev | service
  prod domain: www.lsems.com
  -->
    <add key="domain" value="http://www.lsems.com" />
    <add key="build" value="0325A" />
    <add key="stage" value="service" />
    <add key="emailSender" value="lsemscs@lsems.com" />
    <add key="sslHost" value="https://www.lsems.com" />    
  </appSettings>
  <!--
    web.config 변경 내용에 대한 설명은  http://go.microsoft.com/fwlink/?LinkId=235367을 참고하십시오.

    다음 특성은 <httpRuntime> 태그에 설정할 수 있습니다.
      <system.Web>
        <httpRuntime targetFramework="4.6" />
      </system.Web>
  -->
  <system.web>
    <pages clientIDMode="Static" validateRequest="true" enableEventValidation="false" maintainScrollPositionOnPostBack="true" />
    <compilation debug="true" strict="false" explicit="true" targetFramework="4.5">
      <assemblies>
        <add assembly="System.Device, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Data.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Net.Http, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="System.Net.Http.WebRequest, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="System.Transactions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Net, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Runtime.Serialization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="PresentationCore, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="PresentationFramework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="WindowsBase, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
    </compilation>
    <httpRuntime targetFramework="4.0" requestValidationMode="2.0" requestPathInvalidCharacters="" executionTimeout="3600" maxRequestLength="1048576" />

    <siteMap>
      <providers>
        <add name="ko" type="CommonLib.CommonSiteMapProvider" siteMapFile="~/_ko.sitemap" />
        <add name="en" type="CommonLib.CommonSiteMapProvider" siteMapFile="~/_en.sitemap" />
		<add name="cn" type="CommonLib.CommonSiteMapProvider" siteMapFile="~/_cn.sitemap" />
      </providers>
    </siteMap>
    <httpCookies sameSite="Strict" httpOnlyCookies="true" requireSSL="true" />
	<sessionState mode="StateServer" stateConnectionString="tcpip=127.0.0.1:42424" timeout="30" />
    <identity impersonate="true" password="lsis@web16" userName="webadmin" />
  </system.web>
  <system.webServer>
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="1048576000" />
      </requestFiltering>
    </security>
    <validation validateIntegratedModeConfiguration="false" />
    <modules runAllManagedModulesForAllRequests="true" />
    <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*.aspx" verb="*" type="System.Web.Handlers.TransferRequestHandler" resourceType="Unspecified" requireAccess="Script" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
    <directoryBrowse enabled="false" />
    <defaultDocument>
      <files>
        <clear />
        <add value="default.aspx" />
        <add value="index.html" />
        <add value="iisstart.htm" />
        <add value="index.php" />
      </files>
    </defaultDocument>
    <httpRedirect enabled="false" destination="" />
    <staticContent>
      <!--
            <mimeMap fileExtension=".woff" mimeType="application/x-font-woff" />
            <mimeMap fileExtension=".woff2" mimeType="application/x-font-woff" />
      -->
    </staticContent>
    <httpProtocol>
      <customHeaders>
        <add name="Access-Control-Allow-Origin" value="*" />
      </customHeaders>
    </httpProtocol>
            
  </system.webServer>
  <system.net>
    <mailSettings>
      <smtp>
        <network defaultCredentials="false" host="165.243.101.20" port="25"/>
      </smtp>
    </mailSettings>
  </system.net>

</configuration>